/*LIVEQUERY*/
(function($){$.extend($.fn,{livequery:function(type,fn,fn2){var self=this,q;if($.isFunction(type))fn2=fn,fn=type,type=undefined;$.each($.livequery.queries,function(i,query){if(self.selector==query.selector&&self.context==query.context&&type==query.type&&(!fn||fn.$lqguid==query.fn.$lqguid)&&(!fn2||fn2.$lqguid==query.fn2.$lqguid))return(q=query)&&false});q=q||new $.livequery(this.selector,this.context,type,fn,fn2);q.stopped=false;q.run();return this},expire:function(type,fn,fn2){var self=this;if($.isFunction(type))fn2=fn,fn=type,type=undefined;$.each($.livequery.queries,function(i,query){if(self.selector==query.selector&&self.context==query.context&&(!type||type==query.type)&&(!fn||fn.$lqguid==query.fn.$lqguid)&&(!fn2||fn2.$lqguid==query.fn2.$lqguid)&&!this.stopped)$.livequery.stop(query.id)});return this}});$.livequery=function(selector,context,type,fn,fn2){this.selector=selector;this.context=context||document;this.type=type;this.fn=fn;this.fn2=fn2;this.elements=[];this.stopped=false;this.id=$.livequery.queries.push(this)-1;fn.$lqguid=fn.$lqguid||$.livequery.guid++;if(fn2)fn2.$lqguid=fn2.$lqguid||$.livequery.guid++;return this};$.livequery.prototype={stop:function(){var query=this;if(this.type)this.elements.unbind(this.type,this.fn);else if(this.fn2)this.elements.each(function(i,el){query.fn2.apply(el)});this.elements=[];this.stopped=true},run:function(){if(this.stopped)return;var query=this;var oEls=this.elements,els=$(this.selector,this.context),nEls=els.not(oEls);this.elements=els;if(this.type){nEls.bind(this.type,this.fn);if(oEls.length>0)$.each(oEls,function(i,el){if($.inArray(el,els)<0)$.event.remove(el,query.type,query.fn)})}else{nEls.each(function(){query.fn.apply(this)});if(this.fn2&&oEls.length>0)$.each(oEls,function(i,el){if($.inArray(el,els)<0)query.fn2.apply(el)})}}};$.extend($.livequery,{guid:0,queries:[],queue:[],running:false,timeout:null,checkQueue:function(){if($.livequery.running&&$.livequery.queue.length){var length=$.livequery.queue.length;while(length--)$.livequery.queries[$.livequery.queue.shift()].run()}},pause:function(){$.livequery.running=false},play:function(){$.livequery.running=true;$.livequery.run()},registerPlugin:function(){$.each(arguments,function(i,n){if(!$.fn[n])return;var old=$.fn[n];$.fn[n]=function(){var r=old.apply(this,arguments);$.livequery.run();return r}})},run:function(id){if(id!=undefined){if($.inArray(id,$.livequery.queue)<0)$.livequery.queue.push(id)}else $.each($.livequery.queries,function(id){if($.inArray(id,$.livequery.queue)<0)$.livequery.queue.push(id)});if($.livequery.timeout)clearTimeout($.livequery.timeout);$.livequery.timeout=setTimeout($.livequery.checkQueue,20)},stop:function(id){if(id!=undefined)$.livequery.queries[id].stop();else $.each($.livequery.queries,function(id){$.livequery.queries[id].stop()})}});$.livequery.registerPlugin('append','prepend','after','before','wrap','attr','removeAttr','addClass','removeClass','toggleClass','empty','remove');$(function(){$.livequery.play()});var init=$.prototype.init;$.prototype.init=function(a,c){var r=init.apply(this,arguments);if(a&&a.selector)r.context=a.context,r.selector=a.selector;if(typeof a=='string')r.context=c||document,r.selector=a;return r};$.prototype.init.prototype=$.prototype})(jQuery);

/***********************************/



/* Copyright (c) 2006 Brandon Aaron (http://brandonaaron.net)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) 
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * $LastChangedDate: 2007-07-21 18:45:56 -0500 (Sat, 21 Jul 2007) $
 * $Rev: 2447 $
 *
 * Version 2.1.1
 */
(function($){$.fn.bgIframe=$.fn.bgiframe=function(s){if($.browser.msie&&/6.0/.test(navigator.userAgent)){s=$.extend({top:'auto',left:'auto',width:'auto',height:'auto',opacity:true,src:'javascript:false;'},s||{});var prop=function(n){return n&&n.constructor==Number?n+'px':n;},html='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+s.src+'"'+'style="display:block;position:absolute;z-index:-1;'+(s.opacity!==false?'filter:Alpha(Opacity=\'0\');':'')+'top:'+(s.top=='auto'?'expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+\'px\')':prop(s.top))+';'+'left:'+(s.left=='auto'?'expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+\'px\')':prop(s.left))+';'+'width:'+(s.width=='auto'?'expression(this.parentNode.offsetWidth+\'px\')':prop(s.width))+';'+'height:'+(s.height=='auto'?'expression(this.parentNode.offsetHeight+\'px\')':prop(s.height))+';'+'"/>';return this.each(function(){if($('> iframe.bgiframe',this).length==0)this.insertBefore(document.createElement(html),this.firstChild);});}return this;};})(jQuery);

/****DATE PICKER ***/
(function(g){g.fn.extend({renderCalendar:function(C){var w=function(j){return document.createElement(j)};C=g.extend({month:null,year:null,renderCallback:null,showHeader:g.dpConst.SHOW_HEADER_SHORT,dpController:null,hoverClass:"dp-hover"},C);if(C.showHeader!=g.dpConst.SHOW_HEADER_NONE){var G=g(w("tr"));for(var d=Date.firstDayOfWeek;d<Date.firstDayOfWeek+7;d++){var L=d%7;var i=Date.dayNames[L];G.append(jQuery(w("th")).attr({scope:"col",abbr:i,title:i,"class":(L==0||L==6?"weekend":"weekday")}).html(C.showHeader==g.dpConst.SHOW_HEADER_SHORT?i.substr(0,1):i))}}var O=g(w("table")).attr({cellspacing:2,className:"jCalendar"}).append((C.showHeader!=g.dpConst.SHOW_HEADER_NONE?g(w("thead")).append(G):w("thead")));var N=g(w("tbody"));var b=(new Date()).zeroTime();var D=C.month==undefined?b.getMonth():C.month;var F=C.year||b.getFullYear();var I=new Date(F,D,1);var J=Date.firstDayOfWeek-I.getDay()+1;if(J>1){J-=7}var E=Math.ceil(((-1*J+1)+I.getDaysInMonth())/7);I.addDays(J-1);var a=function(){if(C.hoverClass){g(this).addClass(C.hoverClass)}};var M=function(){if(C.hoverClass){g(this).removeClass(C.hoverClass)}};var H=0;while(H++<E){var r=jQuery(w("tr"));for(var d=0;d<7;d++){var K=I.getMonth()==D;var c=g(w("td")).text(I.getDate()+"").attr("className",(K?"current-month ":"other-month ")+(I.isWeekend()?"weekend ":"weekday ")+(K&&I.getTime()==b.getTime()?"today ":"")).hover(a,M);if(C.renderCallback){C.renderCallback(c,I,D,F)}r.append(c);I.addDays(1)}N.append(r)}O.append(N);return this.each(function(){g(this).empty().append(O)})},datePicker:function(a){if(!g.event._dpCache){g.event._dpCache=[]}a=g.extend({month:undefined,year:undefined,startDate:undefined,endDate:undefined,inline:false,renderCallback:[],createButton:true,showYearNavigation:true,closeOnSelect:true,displayClose:false,selectMultiple:false,clickInput:false,verticalPosition:g.dpConst.POS_TOP,horizontalPosition:g.dpConst.POS_LEFT,verticalOffset:0,horizontalOffset:0,hoverClass:"dp-hover"},a);return this.each(function(){var d=g(this);var b=true;if(!this._dpId){this._dpId=g.event.guid++;g.event._dpCache[this._dpId]=new f(this);b=false}if(a.inline){a.createButton=false;a.displayClose=false;a.closeOnSelect=false;d.empty()}var j=g.event._dpCache[this._dpId];j.init(a);if(!b&&a.createButton){j.button=g('<a href="#" class="dp-choose-date" title="'+g.dpText.TEXT_CHOOSE_DATE+'">'+g.dpText.TEXT_CHOOSE_DATE+"</a>").bind("click",function(){d.dpDisplay(this);this.blur();return false});d.after(j.button)}if(!b&&d.is(":text")){d.bind("dateSelected",function(m,n,i){this.value=n.asString()}).bind("change",function(){var i=Date.fromString(this.value);if(i){j.setSelected(i,true,true)}});if(a.clickInput){d.bind("click",function(){d.dpDisplay()})}var c=Date.fromString(this.value);if(this.value!=""&&c){j.setSelected(c,true,true)}}d.addClass("dp-applied")})},dpSetDisabled:function(a){return e.call(this,"setDisabled",a)},dpSetStartDate:function(a){return e.call(this,"setStartDate",a)},dpSetEndDate:function(a){return e.call(this,"setEndDate",a)},dpGetSelected:function(){var a=h(this[0]);if(a){return a.getSelected()}return null},dpSetSelected:function(a,b,c){if(b==undefined){b=true}if(c==undefined){c=true}return e.call(this,"setSelected",Date.fromString(a),b,c)},dpSetDisplayedMonth:function(b,a){return e.call(this,"setDisplayedMonth",Number(b),Number(a))},dpDisplay:function(a){return e.call(this,"display",a)},dpSetRenderCallback:function(a){return e.call(this,"setRenderCallback",a)},dpSetPosition:function(b,a){return e.call(this,"setPosition",b,a)},dpSetOffset:function(b,a){return e.call(this,"setOffset",b,a)},dpClose:function(){return e.call(this,"_closeCalendar",false,this[0])},_dpDestroy:function(){}});var e=function(b,c,d,a){return this.each(function(){var i=h(this);if(i){i[b](c,d,a)}})};function f(a){this.ele=a;this.displayedMonth=null;this.displayedYear=null;this.startDate=null;this.endDate=null;this.showYearNavigation=null;this.closeOnSelect=null;this.displayClose=null;this.selectMultiple=null;this.verticalPosition=null;this.horizontalPosition=null;this.verticalOffset=null;this.horizontalOffset=null;this.button=null;this.renderCallback=[];this.selectedDates={};this.inline=null;this.context="#dp-popup"}g.extend(f.prototype,{init:function(a){this.setStartDate(a.startDate);this.setEndDate(a.endDate);this.setDisplayedMonth(Number(a.month),Number(a.year));this.setRenderCallback(a.renderCallback);this.showYearNavigation=a.showYearNavigation;this.closeOnSelect=a.closeOnSelect;this.displayClose=a.displayClose;this.selectMultiple=a.selectMultiple;this.verticalPosition=a.verticalPosition;this.horizontalPosition=a.horizontalPosition;this.hoverClass=a.hoverClass;this.setOffset(a.verticalOffset,a.horizontalOffset);this.inline=a.inline;if(this.inline){this.context=this.ele;this.display()}},setStartDate:function(a){if(a){this.startDate=Date.fromString(a)}if(!this.startDate){this.startDate=(new Date()).zeroTime()}this.setDisplayedMonth(this.displayedMonth,this.displayedYear)},setEndDate:function(a){if(a){this.endDate=Date.fromString(a)}if(!this.endDate){this.endDate=(new Date("12/31/2999"))}if(this.endDate.getTime()<this.startDate.getTime()){this.endDate=this.startDate}this.setDisplayedMonth(this.displayedMonth,this.displayedYear)},setPosition:function(b,a){this.verticalPosition=b;this.horizontalPosition=a},setOffset:function(b,a){this.verticalOffset=parseInt(b)||0;this.horizontalOffset=parseInt(a)||0},setDisabled:function(a){$e=g(this.ele);$e[a?"addClass":"removeClass"]("dp-disabled");if(this.button){$but=g(this.button);$but[a?"addClass":"removeClass"]("dp-disabled");$but.attr("title",a?"":g.dpText.TEXT_CHOOSE_DATE)}if($e.is(":text")){$e.attr("disabled",a?"disabled":"")}},setDisplayedMonth:function(k,a){if(this.startDate==undefined||this.endDate==undefined){return}var c=new Date(this.startDate.getTime());c.setDate(1);var b=new Date(this.endDate.getTime());b.setDate(1);var d;if((!k&&!a)||(isNaN(k)&&isNaN(a))){d=new Date().zeroTime();d.setDate(1)}else{if(isNaN(k)){d=new Date(a,this.displayedMonth,1)}else{if(isNaN(a)){d=new Date(this.displayedYear,k,1)}else{d=new Date(a,k,1)}}}if(d.getTime()<c.getTime()){d=c}else{if(d.getTime()>b.getTime()){d=b}}this.displayedMonth=d.getMonth();this.displayedYear=d.getFullYear()},setSelected:function(a,c,b){if(this.selectMultiple==false){this.selectedDates={};g("td.selected",this.context).removeClass("selected")}if(b){this.setDisplayedMonth(a.getMonth(),a.getFullYear())}this.selectedDates[a.toString()]=c},isSelected:function(a){return this.selectedDates[a.toString()]},getSelected:function(){var a=[];for(s in this.selectedDates){if(this.selectedDates[s]==true){a.push(Date.parse(s))}}return a},display:function(u){if(g(this.ele).is(".dp-disabled")){return}u=u||this.ele;var c=this;var q=g(u);var d=q.offset();var b;var a;var r;var p;if(c.inline){b=g(this.ele);a={id:"calendar-"+this.ele._dpId,className:"dp-popup dp-popup-inline"};p={}}else{b=g("body");a={id:"dp-popup",className:"dp-popup"};p={top:d.top+c.verticalOffset,left:d.left+c.horizontalOffset};var o=function(i){var k=i.target;var j=g("#dp-popup")[0];while(true){if(k==j){return true}else{if(k==document){c._closeCalendar();return false}else{k=g(k).parent()[0]}}}};this._checkMouse=o;this._closeCalendar(true)}b.append(g("<div></div>").attr(a).css(p).append(g("<h2></h2>"),g('<div class="dp-nav-prev"></div>').append(g('<a class="dp-nav-prev-year" href="#" title="'+g.dpText.TEXT_PREV_YEAR+'">&lt;&lt;</a>').bind("click",function(){return c._displayNewMonth.call(c,this,0,-1)}),g('<a class="dp-nav-prev-month" href="#" title="'+g.dpText.TEXT_PREV_MONTH+'">&lt;</a>').bind("click",function(){return c._displayNewMonth.call(c,this,-1,0)})),g('<div class="dp-nav-next"></div>').append(g('<a class="dp-nav-next-year" href="#" title="'+g.dpText.TEXT_NEXT_YEAR+'">&gt;&gt;</a>').bind("click",function(){return c._displayNewMonth.call(c,this,0,1)}),g('<a class="dp-nav-next-month" href="#" title="'+g.dpText.TEXT_NEXT_MONTH+'">&gt;</a>').bind("click",function(){return c._displayNewMonth.call(c,this,1,0)})),g("<div></div>").attr("className","dp-calendar")).bgIframe());var t=this.inline?g(".dp-popup",this.context):g("#dp-popup");if(this.showYearNavigation==false){g(".dp-nav-prev-year, .dp-nav-next-year",c.context).css("display","none")}if(this.displayClose){t.append(g('<a href="#" id="dp-close">'+g.dpText.TEXT_CLOSE+"</a>").bind("click",function(){c._closeCalendar();return false}))}c._renderCalendar();g(this.ele).trigger("dpDisplayed",t);if(!c.inline){if(this.verticalPosition==g.dpConst.POS_BOTTOM){t.css("top",d.top+q.height()-t.height()+c.verticalOffset)}if(this.horizontalPosition==g.dpConst.POS_RIGHT){t.css("left",d.left+q.width()-t.width()+c.horizontalOffset)}g(document).bind("mousedown",this._checkMouse)}},setRenderCallback:function(a){if(a&&typeof(a)=="function"){a=[a]}this.renderCallback=this.renderCallback.concat(a)},cellRender:function(b,n,d,i){var a=this.dpController;var c=new Date(n.getTime());b.bind("click",function(){var j=g(this);if(!j.is(".disabled")){a.setSelected(c,!j.is(".selected")||!a.selectMultiple);var k=a.isSelected(c);g(a.ele).trigger("dateSelected",[c,b,k]);g(a.ele).trigger("change");if(a.closeOnSelect){a._closeCalendar()}else{j[k?"addClass":"removeClass"]("selected")}}});if(a.isSelected(c)){b.addClass("selected")}for(var m=0;m<a.renderCallback.length;m++){a.renderCallback[m].apply(this,arguments)}},_displayNewMonth:function(b,c,a){if(!g(b).is(".disabled")){this.setDisplayedMonth(this.displayedMonth+c,this.displayedYear+a);this._clearCalendar();this._renderCalendar();g(this.ele).trigger("dpMonthChanged",[this.displayedMonth,this.displayedYear])}b.blur();return false},_renderCalendar:function(){g("h2",this.context).html(Date.monthNames[this.displayedMonth]+" "+this.displayedYear);g(".dp-calendar",this.context).renderCalendar({month:this.displayedMonth,year:this.displayedYear,renderCallback:this.cellRender,dpController:this,hoverClass:this.hoverClass});if(this.displayedYear==this.startDate.getFullYear()&&this.displayedMonth==this.startDate.getMonth()){g(".dp-nav-prev-year",this.context).addClass("disabled");g(".dp-nav-prev-month",this.context).addClass("disabled");g(".dp-calendar td.other-month",this.context).each(function(){var d=g(this);if(Number(d.text())>20){d.addClass("disabled")}});var a=this.startDate.getDate();g(".dp-calendar td.current-month",this.context).each(function(){var d=g(this);if(Number(d.text())<a){d.addClass("disabled")}})}else{g(".dp-nav-prev-year",this.context).removeClass("disabled");g(".dp-nav-prev-month",this.context).removeClass("disabled");var a=this.startDate.getDate();if(a>20){var b=new Date(this.startDate.getTime());b.addMonths(1);if(this.displayedYear==b.getFullYear()&&this.displayedMonth==b.getMonth()){g("dp-calendar td.other-month",this.context).each(function(){var d=g(this);if(Number(d.text())<a){d.addClass("disabled")}})}}}if(this.displayedYear==this.endDate.getFullYear()&&this.displayedMonth==this.endDate.getMonth()){g(".dp-nav-next-year",this.context).addClass("disabled");g(".dp-nav-next-month",this.context).addClass("disabled");g(".dp-calendar td.other-month",this.context).each(function(){var d=g(this);if(Number(d.text())<14){d.addClass("disabled")}});var a=this.endDate.getDate();g(".dp-calendar td.current-month",this.context).each(function(){var d=g(this);if(Number(d.text())>a){d.addClass("disabled")}})}else{g(".dp-nav-next-year",this.context).removeClass("disabled");g(".dp-nav-next-month",this.context).removeClass("disabled");var a=this.endDate.getDate();if(a<13){var c=new Date(this.endDate.getTime());c.addMonths(-1);if(this.displayedYear==c.getFullYear()&&this.displayedMonth==c.getMonth()){g(".dp-calendar td.other-month",this.context).each(function(){var d=g(this);if(Number(d.text())>a){d.addClass("disabled")}})}}}},_closeCalendar:function(b,a){if(!a||a==this.ele){g(document).unbind("mousedown",this._checkMouse);this._clearCalendar();g("#dp-popup a").unbind();g("#dp-popup").empty().remove();if(!b){g(this.ele).trigger("dpClosed",[this.getSelected()])}}},_clearCalendar:function(){g(".dp-calendar td",this.context).unbind();g(".dp-calendar",this.context).empty()}});g.dpConst={SHOW_HEADER_NONE:0,SHOW_HEADER_SHORT:1,SHOW_HEADER_LONG:2,POS_TOP:0,POS_BOTTOM:1,POS_LEFT:0,POS_RIGHT:1};g.dpText={TEXT_PREV_YEAR:"A?o anterior",TEXT_PREV_MONTH:"Mes anterior",TEXT_NEXT_YEAR:"Siguiente a?o",TEXT_NEXT_MONTH:"Siguiente mes",TEXT_CLOSE:"Cerrar",TEXT_CHOOSE_DATE:"Elija fecha"};g.dpVersion="$Id: jquery.datePicker.js 3739 2007-10-25 13:55:30Z kelvin.luck $";function h(a){if(a._dpId){return g.event._dpCache[a._dpId]}return false}if(g.fn.bgIframe==undefined){g.fn.bgIframe=function(){return this}}g(window).bind("unload",function(){var a=g.event._dpCache||[];for(var b in a){g(a[b].ele)._dpDestroy()}})})(jQuery);

/***JQUERY COOKIE***/

jQuery.cookie=function(b,j,m){if(typeof j!="undefined"){m=m||{};if(j===null){j="";m.expires=-1}var e="";if(m.expires&&(typeof m.expires=="number"||m.expires.toUTCString)){var f;if(typeof m.expires=="number"){f=new Date();f.setTime(f.getTime()+(m.expires*24*60*60*1000))}else{f=m.expires}e="; expires="+f.toUTCString()}var l=m.path?"; path="+(m.path):"";var g=m.domain?"; domain="+(m.domain):"";var a=m.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(j),e,l,g,a].join("")}else{var d=null;if(document.cookie&&document.cookie!=""){var k=document.cookie.split(";");for(var h=0;h<k.length;h++){var c=jQuery.trim(k[h]);if(c.substring(0,b.length+1)==(b+"=")){d=decodeURIComponent(c.substring(b.length+1));break}}}return d}};


/***DATE . JS **/
Date.dayNames=["Domingo","Lunes","Martes","Mi?rcoles","Jueves","Viernes","S?bado"];Date.abbrDayNames=["Dom","Lun","Mar","Mie","Jue","Vie","Sab"];Date.monthNames=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];Date.abbrMonthNames=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];Date.firstDayOfWeek=1;Date.format="dd/mm/yyyy";Date.fullYearStart="20";(function(){function c(b,a){if(!Date.prototype[b]){Date.prototype[b]=a}}c("isLeapYear",function(){var a=this.getFullYear();return(a%4==0&&a%100!=0)||a%400==0});c("isWeekend",function(){return this.getDay()==0||this.getDay()==6});c("isWeekDay",function(){return !this.isWeekend()});c("getDaysInMonth",function(){return[31,(this.isLeapYear()?29:28),31,30,31,30,31,31,30,31,30,31][this.getMonth()]});c("getDayName",function(a){return a?Date.abbrDayNames[this.getDay()]:Date.dayNames[this.getDay()]});c("getMonthName",function(a){return a?Date.abbrMonthNames[this.getMonth()]:Date.monthNames[this.getMonth()]});c("getDayOfYear",function(){var a=new Date("1/1/"+this.getFullYear());return Math.floor((this.getTime()-a.getTime())/86400000)});c("getWeekOfYear",function(){return Math.ceil(this.getDayOfYear()/7)});c("setDayOfYear",function(a){this.setMonth(0);this.setDate(a);return this});c("addYears",function(a){this.setFullYear(this.getFullYear()+a);return this});c("addMonths",function(a){var b=this.getDate();this.setMonth(this.getMonth()+a);if(b>this.getDate()){this.addDays(-this.getDate())}return this});c("addDays",function(a){this.setDate(this.getDate()+a);return this});c("addHours",function(a){this.setHours(this.getHours()+a);return this});c("addMinutes",function(a){this.setMinutes(this.getMinutes()+a);return this});c("addSeconds",function(a){this.setSeconds(this.getSeconds()+a);return this});c("zeroTime",function(){this.setMilliseconds(0);this.setSeconds(0);this.setMinutes(0);this.setHours(0);return this});c("asString",function(){var a=Date.format;return a.split("yyyy").join(this.getFullYear()).split("yy").join((this.getFullYear()+"").substring(2)).split("mmm").join(this.getMonthName(true)).split("mm").join(d(this.getMonth()+1)).split("dd").join(d(this.getDate()))});Date.fromString=function(m){var i=Date.format;var b=new Date("01/01/1977");var a=i.indexOf("yyyy");if(a>-1){b.setFullYear(Number(m.substr(a,4)))}else{b.setFullYear(Number(Date.fullYearStart+m.substr(i.indexOf("yy"),2)))}var o=i.indexOf("mmm");if(o>-1){var f=m.substr(o,3);for(var n=0;n<Date.abbrMonthNames.length;n++){if(Date.abbrMonthNames[n]==f){break}}b.setMonth(n)}else{b.setMonth(Number(m.substr(i.indexOf("mm"),2))-1)}b.setDate(Number(m.substr(i.indexOf("dd"),2)));if(isNaN(b.getTime())){return false}return b};var d=function(b){var a="0"+b;return a.substring(a.length-2)}})();

/***AJAX FILE UPLOAD**/
jQuery.extend({createUploadIframe:function(g,e){var f="jUploadFrame"+g;if(window.ActiveXObject){var h=document.createElement('<iframe id="'+f+'" name="'+f+'" />');if(typeof e=="boolean"){h.src="javascript:false"}else{if(typeof e=="string"){h.src=e}}}else{var h=document.createElement("iframe");h.id=f;h.name=f}h.style.position="absolute";h.style.top="-1000px";h.style.left="-1000px";document.body.appendChild(h);return h},createUploadForm:function(j,h){var l="jUploadForm"+j;var i="jUploadFile"+j;var m=$('<form  action="" method="POST" name="'+l+'" id="'+l+'" enctype="multipart/form-data"></form>');var n=$("#"+h);var k=$(n).clone();$(n).attr("id",i);$(n).before(k);$(n).appendTo(m);$(m).css("position","absolute");$(m).css("top","-1200px");$(m).css("left","-1200px");$(m).appendTo("body");return m},ajaxFileUpload:function(e){e=jQuery.extend({},jQuery.ajaxSettings,e);var t=new Date().getTime();var s=jQuery.createUploadForm(t,e.fileElementId);var m=jQuery.createUploadIframe(t,e.secureuri);var n="jUploadFrame"+t;var l="jUploadForm"+t;if(e.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart")}var r=false;var p={};if(e.global){jQuery.event.trigger("ajaxSend",[p,e])}var q=function(b){var c=document.getElementById(n);try{if(c.contentWindow){p.responseText=c.contentWindow.document.body?c.contentWindow.document.body.innerHTML:null;p.responseXML=c.contentWindow.document.XMLDocument?c.contentWindow.document.XMLDocument:c.contentWindow.document}else{if(c.contentDocument){p.responseText=c.contentDocument.document.body?c.contentDocument.document.body.innerHTML:null;p.responseXML=c.contentDocument.document.XMLDocument?c.contentDocument.document.XMLDocument:c.contentDocument.document}}}catch(d){jQuery.handleError(e,p,null,d)}if(p||b=="timeout"){r=true;var a;try{a=b!="timeout"?"success":"error";if(a!="error"){var f=jQuery.uploadHttpData(p,e.dataType);if(e.success){e.success(f,a)}if(e.global){jQuery.event.trigger("ajaxSuccess",[p,e])}}else{jQuery.handleError(e,p,a)}}catch(d){a="error";jQuery.handleError(e,p,a,d)}if(e.global){jQuery.event.trigger("ajaxComplete",[p,e])}if(e.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}if(e.complete){e.complete(p,a)}jQuery(c).unbind();setTimeout(function(){try{$(c).remove();$(s).remove()}catch(g){jQuery.handleError(e,p,null,g)}},100);p=null}};if(e.timeout>0){setTimeout(function(){if(!r){q("timeout")}},e.timeout)}try{var s=$("#"+l);$(s).attr("action",e.url);$(s).attr("method","POST");$(s).attr("target",n);if(s.encoding){s.encoding="multipart/form-data"}else{s.enctype="multipart/form-data"}$(s).submit()}catch(o){jQuery.handleError(e,p,null,o)}if(window.attachEvent){document.getElementById(n).attachEvent("onload",q)}else{document.getElementById(n).addEventListener("load",q,false)}return{abort:function(){}}},uploadHttpData:function(r,type){var data=!type;data=type=="xml"||data?r.responseXML:r.responseText;if(type=="script"){jQuery.globalEval(data)}if(type=="json"){eval("data = "+data)}if(type=="html"){jQuery("<div>").html(data).evalScripts()}return data}});